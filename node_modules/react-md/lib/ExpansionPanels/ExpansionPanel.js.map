{"version":3,"sources":["../../src/js/ExpansionPanels/ExpansionPanel.js"],"names":["LABEL_FONT_SIZE","LINE_HEIGHT","SINGLE_LINE_HEIGHT","ExpansionPanel","props","context","_determineIfTwoLine","twoLine","Array","prototype","slice","call","querySelectorAll","some","el","offsetHeight","setState","_handleClick","expanded","_isExpanded","state","onExpandToggle","_handleSave","e","onSave","closeOnSave","_handleCancel","onCancel","closeOnCancel","received","defaultExpanded","nextProps","process","env","NODE_ENV","columnWidths","length","console","error","prevProps","label","secondaryLabel","className","expandedSecondaryLabel","children","focused","saveType","saveLabel","savePrimary","saveSecondary","saveProps","cancelType","cancelLabel","cancelPrimary","cancelSecondary","cancelProps","headerStyle","headerClassName","contentStyle","contentClassName","tabIndex","overflown","footer","footerChildren","expandIconChildren","expandIconClassName","propAnimateContent","animateContent","propExpanded","propExpanderIcon","expanderIcon","columns","map","panelLabel","i","text","isArray","unshift","minWidth","Children","only","cloneElement","flipped","propTypes","style","object","string","node","isRequired","component","oneOfType","func","bool","element","arrayOf","number","oneOf","defaultProps","contextTypes"],"mappings":"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","file":"ExpansionPanel.js","sourcesContent":["import React, { PureComponent, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport cn from 'classnames';\nimport deprecated from 'react-prop-types/lib/deprecated';\n\nimport getField from '../utils/getField';\nimport themeColors from '../utils/themeColors';\nimport getCollapserStyles from '../utils/getCollapserStyles';\nimport controlled from '../utils/PropTypes/controlled';\nimport Paper from '../Papers/Paper';\nimport AccessibleFakeButton from '../Helpers/AccessibleFakeButton';\nimport Collapse from '../Helpers/Collapse';\nimport FontIcon from '../FontIcons/FontIcon';\nimport getDeprecatedIcon from '../FontIcons/getDeprecatedIcon';\nimport PanelContent from './PanelContent';\n\nconst LABEL_FONT_SIZE = 15;\nconst LINE_HEIGHT = 1.42857;\nconst SINGLE_LINE_HEIGHT = LABEL_FONT_SIZE * LINE_HEIGHT;\n\n/**\n * The `ExpansionPanel` component needs to be used with the `ExpansionList`\n * component. The only reason is that the `ExpansionPanel` should really\n * be rendered as a table, but it was a bit hard to have a single component\n * dynamically rendering another row when expanded. It couldn't be in the\n * same row since the expanded content might not have the same columns.\n */\nexport default class ExpansionPanel extends PureComponent {\n  static propTypes = {\n    /**\n     * An optional style to apply to the panel.\n     */\n    style: PropTypes.object,\n\n    /**\n     * An optional className to apply to the panel.\n     */\n    className: PropTypes.string,\n\n    /**\n     * An options style to apply to the panel's header content. This is the\n     * section that toggles the children to be visible and label columns.\n     */\n    headerStyle: PropTypes.object,\n\n    /**\n     * An optional className to apply to the panel's header content. This is the\n     * section that toggles the children to be visible and label columns.\n     */\n    headerClassName: PropTypes.string,\n\n    /**\n     * An optional style to apply to the element surrounding the children when expanded.\n     */\n    contentStyle: PropTypes.object,\n\n    /**\n     * An optional className to apply to the element surrounding the children when expanded.\n     */\n    contentClassName: PropTypes.string,\n\n    /**\n     * The main label to display in the unexpanded panel.\n     */\n    label: PropTypes.node.isRequired,\n\n    /**\n     * Any additional columns to display after the main label. If this is a `list`\n     * instead of a singular item, they will each be formatted as a column.\n     */\n    secondaryLabel: PropTypes.node,\n\n    /**\n     * Any additional columns to display after the main label when the panel is\n     * expanded. If this is omitted, the default `secondaryLabel` will be displayed\n     * instead.\n     */\n    expandedSecondaryLabel: PropTypes.node,\n\n    /**\n     * The component to render the panel as.\n     */\n    component: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.func,\n    ]).isRequired,\n\n    /**\n     * The content to display once the panel is toggled open.\n     */\n    children: PropTypes.node,\n\n    /**\n     * A boolean if the panel is currently expanded. This will force the component\n     * to be controlled and require's the `onExpandToggle` function to be defined.\n     */\n    expanded: controlled(PropTypes.bool, 'onExpandToggle', 'defaultExpanded'),\n\n    /**\n     * Boolean if an uncontrolled panel should be expanded by default.\n     */\n    defaultExpanded: PropTypes.bool.isRequired,\n\n    /**\n     * The icon to display for expanding the expansion panel.\n     */\n    expanderIcon: PropTypes.element,\n\n    /**\n     * Boolean if the `ExpansionPanel` is currently tab focused. This is injected\n     * and managed by the `ExpansionList` component. Do not set yourself.\n     */\n    focused: PropTypes.bool.isRequired,\n\n    /**\n     * A list of min-widths to apply to each column in the panel header. This is injected\n     * and managed by the `ExpansionList` component. Do not set yourself.\n     */\n    columnWidths: PropTypes.arrayOf(PropTypes.number).isRequired,\n\n    /**\n     * Boolean if the panel has too much content so that it overflowns. This is injected\n     * and managed by the `ExpansionList` component. Do not set yourself.\n     *\n     * When this is active, it will truncate all columns except for the main label and the\n     * toggle icon.\n     */\n    overflown: PropTypes.bool,\n\n    /**\n     * A function to call when the expansion panel's expanded state is toggled.\n     * The callback for this function will include the new expanded state.\n     *\n     * `onExpandToggle(expanded)`\n     */\n    onExpandToggle: PropTypes.func,\n\n    /**\n     * An optional function to call when the Save button is clicked on the expanded panel.\n     */\n    onSave: PropTypes.func,\n\n    /**\n     * An optional function to call when the Cancel button is clicked on the expanded panel.\n     */\n    onCancel: PropTypes.func,\n\n    /**\n     * Boolean if the panel should close when the Save button is clicked.\n     */\n    closeOnSave: PropTypes.bool,\n\n    /**\n     * Boolean if the panel should close when the Cancel button is clicked.\n     */\n    closeOnCancel: PropTypes.bool,\n\n    /**\n     * An optional button type to apply to the Save button. This will get\n     * passed to the `FlatButton`.\n     */\n    saveType: PropTypes.oneOf(['button', 'submit', 'reset']),\n\n    /**\n     * The label for the Save button.\n     */\n    saveLabel: PropTypes.node.isRequired,\n\n    /**\n     * Boolean if the Save button should be styled with the primary color.\n     */\n    savePrimary: PropTypes.bool,\n\n    /**\n     * Boolean if the Save button should be styled with the secondary color,\n     */\n    saveSecondary: PropTypes.bool,\n\n    /**\n     * Any additional props to provide/override for the save button in the\n     * footer of the panel.\n     */\n    saveProps: PropTypes.object,\n\n    /**\n     * An optional button type to apply to the Cancel button. This will get\n     * passed to the `FlatButton`.\n     */\n    cancelType: PropTypes.oneOf(['button', 'submit', 'reset']),\n\n    /**\n     * The label for the Cancel button.\n     */\n    cancelLabel: PropTypes.node.isRequired,\n\n    /**\n     * Boolean if the Cancel button should be styled with the primary color,\n     */\n    cancelPrimary: PropTypes.bool,\n\n    /**\n     * Boolean if the Cancel button should be styled with the secondary color,\n     */\n    cancelSecondary: PropTypes.bool,\n\n    /**\n     * Any additional props to provide/override for the cancel button in the\n     * footer of the panel.\n     */\n    cancelProps: PropTypes.object,\n\n    /**\n     * The tab index for the panel's header. This allows keyboard navigation.\n     */\n    tabIndex: PropTypes.number.isRequired,\n\n    /**\n     * Boolean if the panel's content should animate when the content's visibility changes. This\n     * can also be toggled from the `ExpansionList` component if all `ExpansionPanel` in the list\n     * should not animate. This only affects the height transition.\n     *\n     * > The default value is really `true` since it gets passed down to the `Collapse` component.\n     */\n    animateContent: PropTypes.bool,\n\n    /**\n     * This prop controls the footer for the expansion panel. If this prop is `undefined`, it will\n     * go with the default behavior of generating the save and cancel buttons with the save and cancel\n     * props.\n     *\n     * If this value is `null`, there will be no footer created.\n     *\n     * Finally, if this prop is defined as any renderable item, it will be displayed in place of the\n     * footer.\n     *\n     * @see {@link #footerChildren}\n     */\n    footer: PropTypes.node,\n\n    /**\n     * Any additional children that should be displayed in the footer of the panel. These children\n     * will be placed after the action buttons.\n     */\n    footerChildren: PropTypes.node,\n    expandIconChildren: deprecated(PropTypes.node, 'Use the `expanderIcon` instead'),\n    expandIconClassName: deprecated(PropTypes.string, 'Use the `expanderIcon` instead'),\n  };\n\n  static defaultProps = {\n    defaultExpanded: false,\n    expanderIcon: <FontIcon>keyboard_arrow_down</FontIcon>,\n    component: 'li',\n    saveLabel: 'Save',\n    cancelLabel: 'Cancel',\n    savePrimary: true,\n    tabIndex: 0,\n    closeOnSave: true,\n    closeOnCancel: true,\n    focused: false,\n    columnWidths: [],\n  };\n\n  static contextTypes = {\n    animateContent: PropTypes.bool,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      received: false,\n      twoLine: false,\n    };\n\n    if (typeof props.expanded === 'undefined') {\n      this.state.expanded = props.defaultExpanded;\n    }\n  }\n\n  componentDidMount() {\n    this._determineIfTwoLine();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (process.env.NODE_ENV === 'development' && !this.state.received) {\n      if (nextProps.columnWidths.length === 0) {\n        // Hopefully a nice warning about fixing the missing props injected from ExpansionList\n        /* eslint-disable no-console */\n        console.error(\n          'The `ExpansionPanel` component expects the `columnWidths` prop to be injected from the ' +\n          '`ExpansionList` component. It could be missing because:' +\n          '\\n - you have a wrapper component with extra functionality' +\n          '\\n - the `ExpansionPanel` is not a direct child of the `ExpansionList` component' +\n          '\\n\\nYou can fix this by making sure to pass `this.props.focused` and `this.props.columnWidths` ' +\n          'within your wrapper component and making the `ExpansionPanel` a direct child of `ExpansionList`.'\n        );\n      }\n\n      this.setState({ received: true });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.label === prevProps.label && this.props.secondaryLabel === prevProps.secondaryLabel) {\n      return;\n    }\n\n    this._determineIfTwoLine();\n  }\n\n  _isExpanded(props, state) {\n    return typeof props.expanded === 'undefined' ? state.expanded : props.expanded;\n  }\n\n  _determineIfTwoLine = () => {\n    let twoLine = false;\n    Array.prototype.slice.call(findDOMNode(this).querySelectorAll('.md-panel-column'))\n      .some(el => (twoLine = el.offsetHeight > SINGLE_LINE_HEIGHT));\n\n    this.setState({ twoLine });\n  };\n\n  _handleClick = () => {\n    const expanded = !this._isExpanded(this.props, this.state);\n    if (this.props.onExpandToggle) {\n      this.props.onExpandToggle(expanded);\n    }\n\n\n    if (typeof this.props.expanded === 'undefined') {\n      this.setState({ expanded });\n    }\n  };\n\n  _handleSave = (e) => {\n    const { onSave, onExpandToggle, closeOnSave } = this.props;\n    if (onSave) {\n      onSave(e);\n    }\n\n    if (closeOnSave) {\n      if (onExpandToggle) {\n        onExpandToggle(false);\n      }\n\n      if (typeof this.props.expanded === 'undefined') {\n        this.setState({ expanded: false });\n      }\n    }\n  };\n\n  _handleCancel = (e) => {\n    const { onCancel, onExpandToggle, closeOnCancel } = this.props;\n    if (onCancel) {\n      onCancel(e);\n    }\n\n    if (closeOnCancel) {\n      if (onExpandToggle) {\n        onExpandToggle(false);\n      }\n\n      if (typeof this.props.expanded === 'undefined') {\n        this.setState({ expanded: false });\n      }\n    }\n  };\n\n  render() {\n    const {\n      className,\n      label,\n      secondaryLabel,\n      expandedSecondaryLabel,\n      children,\n      focused,\n      columnWidths,\n      saveType,\n      saveLabel,\n      savePrimary,\n      saveSecondary,\n      saveProps,\n      cancelType,\n      cancelLabel,\n      cancelPrimary,\n      cancelSecondary,\n      cancelProps,\n      headerStyle,\n      headerClassName,\n      contentStyle,\n      contentClassName,\n      tabIndex,\n      overflown,\n      footer,\n      footerChildren,\n\n      // deprecated\n      expandIconChildren,\n      expandIconClassName,\n      /* eslint-disable no-unused-vars */\n      animateContent: propAnimateContent,\n      expanded: propExpanded,\n      expanderIcon: propExpanderIcon,\n      defaultExpanded,\n      closeOnSave,\n      closeOnCancel,\n      onSave,\n      onCancel,\n      onExpandToggle,\n      /* eslint-enable no-unused-vars */\n      ...props\n    } = this.props;\n    const { twoLine } = this.state;\n    const expanded = this._isExpanded(this.props, this.state);\n    const animateContent = getField(this.props, this.context, 'animateContent');\n\n    let columns = Children.map(expanded && expandedSecondaryLabel || secondaryLabel, (panelLabel, i) => (\n      <div\n        style={{ [`${overflown ? 'width' : 'minWidth'}`]: columnWidths[i + 1] }}\n        className={cn('md-panel-column', {\n          'md-panel-column--overflown': overflown,\n        }, themeColors({ text: true }))}\n      >\n        {panelLabel}\n      </div>\n    ));\n\n    if (!Array.isArray(columns)) {\n      columns = [columns];\n    }\n\n    columns.unshift((\n      <div\n        key=\"main-label\"\n        style={{ minWidth: columnWidths[0] }}\n        className={cn('md-panel-column', themeColors({ text: true }))}\n      >\n        {label}\n      </div>\n    ));\n\n    let expanderIcon = getDeprecatedIcon(expandIconClassName, expandIconChildren, this.props.expanderIcon);\n    expanderIcon = React.Children.only(expanderIcon);\n    expanderIcon = React.cloneElement(expanderIcon, {\n      className: getCollapserStyles({\n        flipped: expanded,\n      }, 'md-expansion-panel__collapser md-cell--right', expanderIcon.props.className),\n    });\n\n    return (\n      <Paper\n        {...props}\n        className={cn('md-expansion-panel', {\n          'md-expansion-panel--expanded': expanded,\n        }, className)}\n        aria-expanded={expanded}\n      >\n        <AccessibleFakeButton\n          onClick={this._handleClick}\n          style={headerStyle}\n          className={cn('md-panel-header', {\n            'md-panel-header--expanded': expanded || twoLine,\n            'md-panel-header--focused': focused,\n          }, headerClassName)}\n          tabIndex={tabIndex}\n        >\n          {columns}\n          {expanderIcon}\n        </AccessibleFakeButton>\n        <Collapse collapsed={!expanded} animate={animateContent}>\n          <PanelContent\n            style={contentStyle}\n            className={contentClassName}\n            onSave={this._handleSave}\n            onCancel={this._handleCancel}\n            saveType={saveType}\n            saveLabel={saveLabel}\n            savePrimary={savePrimary}\n            saveSecondary={saveSecondary}\n            saveProps={saveProps}\n            cancelType={cancelType}\n            cancelLabel={cancelLabel}\n            cancelPrimary={cancelPrimary}\n            cancelSecondary={cancelSecondary}\n            cancelProps={cancelProps}\n            footer={footer}\n            footerChildren={footerChildren}\n          >\n            {children}\n          </PanelContent>\n        </Collapse>\n      </Paper>\n    );\n  }\n}\n"]}