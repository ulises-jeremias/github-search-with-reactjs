{"version":3,"sources":["../../src/js/Inks/Ink.js"],"names":["Ink","props","state","active","expanded","pulsing","leaving","nextProps","aborted","_timeout","clearTimeout","_abort","setState","expanding","cb","transitionOverlap","transitionEnterTimeout","setTimeout","pulse","transitionLeaveTimeout","onRemove","style","className","left","top","size","Object","assign","height","width","propTypes","object","string","bool","func","number","isRequired"],"mappings":"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","file":"Ink.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport TICK from '../constants/CSSTransitionGroupTick';\n\nexport default class Ink extends PureComponent {\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    aborted: PropTypes.bool,\n    onRemove: PropTypes.func,\n    left: PropTypes.number.isRequired,\n    top: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    transitionOverlap: PropTypes.number.isRequired,\n    transitionEnterTimeout: PropTypes.number.isRequired,\n    transitionLeaveTimeout: PropTypes.number.isRequired,\n    pulse: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      active: false,\n      expanded: false,\n      pulsing: false,\n      leaving: false,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.props.aborted && nextProps.aborted) {\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n      }\n\n      if (this._abort) {\n        this._abort();\n      }\n\n      this.setState({ active: false, expanding: false, pulsing: false, leaving: false });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n  }\n\n  componentWillEnter(cb) {\n    if (this.props.aborted) {\n      cb();\n      return;\n    }\n\n    const { transitionOverlap, transitionEnterTimeout } = this.props;\n    this._abort = cb;\n\n    this._timeout = setTimeout(() => {\n      this._timeout = setTimeout(() => {\n        this._timeout = null;\n        this._abort = null;\n\n        cb();\n      }, transitionEnterTimeout - transitionOverlap);\n\n      this.setState({ expanded: true });\n    }, TICK);\n\n    this.setState({ active: true });\n  }\n\n  componentDidEnter() {\n    if (this.props.pulse) {\n      this._timeout = setTimeout(() => {\n        this._timeout = null;\n\n        this.setState({ pulsing: true });\n      }, this.props.transitionEnterTimeout);\n    }\n  }\n\n  componentWillLeave(cb) {\n    if (this.props.aborted) {\n      cb();\n      return;\n    }\n\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n\n    this._abort = cb;\n    this._timeout = setTimeout(() => {\n      this._timeout = null;\n\n      cb();\n    }, this.props.transitionLeaveTimeout);\n\n\n    this.setState({ pulsing: false, leaving: true });\n  }\n\n  componentDidLeave() {\n    if (!this.props.aborted && this.props.onRemove) {\n      this.props.onRemove();\n    }\n  }\n\n  render() {\n    const {\n      style,\n      className,\n      left,\n      top,\n      size,\n    } = this.props;\n    const { active, expanded, pulsing, leaving } = this.state;\n\n    return (\n      <span\n        style={Object.assign({}, style, {\n          left,\n          top,\n          height: size,\n          width: size,\n        })}\n        className={cn('md-ink', {\n          'md-ink--active': active,\n          'md-ink--expanded': expanded,\n          'md-ink--pulsing': pulsing,\n          'md-ink--leaving': leaving,\n        }, className)}\n      />\n    );\n  }\n}\n"]}