{"version":3,"sources":["../../src/js/Pickers/TimePicker.js"],"names":["TimePicker","_updateTime","newTime","timePart","props","tempTime","setTempTime","timeMode","timePeriod","time","Date","isAM","is12","setHours","setMinutes","_handleTimeChosen","hoverMode","setTimeMode","onOkClick","okLabel","okPrimary","cancelLabel","cancelPrimary","onCancelClick","style","className","hours","minutes","displayMode","inline","icon","hoursInt","parseInt","minutesInt","replace","actions","key","onClick","primary","secondary","label","propTypes","object","string","node","isRequired","bool","func","DateTimeFormat","locales","oneOfType","arrayOf","oneOf","instanceOf"],"mappings":"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","file":"TimePicker.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport ClockFace from './ClockFace';\nimport DialogFooter from '../Dialogs/DialogFooter';\nimport TimePickerHeader from './TimePickerHeader';\n\n/**\n * The `TimePicker` component is used to display a time picker\n * in the `TimePickerContainer` component.\n */\nexport default class TimePicker extends PureComponent {\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    okLabel: PropTypes.node.isRequired,\n    okPrimary: PropTypes.bool.isRequired,\n    onOkClick: PropTypes.func.isRequired,\n    cancelLabel: PropTypes.node.isRequired,\n    cancelPrimary: PropTypes.bool.isRequired,\n    onCancelClick: PropTypes.func.isRequired,\n    DateTimeFormat: PropTypes.func.isRequired,\n    locales: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]).isRequired,\n    icon: PropTypes.bool,\n    inline: PropTypes.bool,\n    displayMode: PropTypes.oneOf(['landscape', 'portrait']),\n\n    /**\n     * A function that will switch the state from hour to minute.\n     */\n    setTimeMode: PropTypes.func.isRequired,\n\n    /**\n     * A function that will update the time for the TimePicker before\n     * the user selects ok. This function will be given a new Date object\n     * with a modified time.\n     */\n    setTempTime: PropTypes.func.isRequired,\n\n    /**\n     * The current display mode of the time picker.\n     */\n    timeMode: PropTypes.oneOf(['hour', 'minute']).isRequired,\n\n    /**\n     * The current time as a date object that is being displayed in the\n     * time picker.\n     */\n    tempTime: PropTypes.instanceOf(Date).isRequired,\n\n    /**\n     * A string that is a representation of the hours in the user's locale.\n     */\n    hours: PropTypes.string.isRequired,\n\n    /**\n     * A string that is a representation of the minutes in the user's locale.\n     * This will also include any separator the locale uses.\n     *\n     * Example: ':15' in '3:15 PM' for 'en-US'\n     */\n    minutes: PropTypes.string.isRequired,\n\n    /**\n     * An optional time period if a user's locale uses it.\n     */\n    timePeriod: PropTypes.string,\n\n    /**\n     * If true the hover mode of the Time Picker is activated.\n     * In hover mode no clicks are required to start selecting an hour\n     * and the timemode switches automatically when a time was chosen.\n     * When a minute is selected the chosen time is applied automatically.\n     */\n    hoverMode: PropTypes.bool,\n  };\n\n  /**\n   * Takes in the new time (number o'clock or minutes), updates the temp time\n   * with that new time, and then calls the setTempTime prop.\n   */\n  _updateTime = (newTime) => {\n    let timePart = newTime;\n    const { tempTime, setTempTime, timeMode, timePeriod } = this.props;\n    const time = new Date(tempTime);\n    if (timeMode === 'hour') {\n      const isAM = timePeriod === 'AM';\n      const is12 = timePart === 12;\n      if (timePeriod && isAM && is12) {\n        timePart = 0;\n      } else if (timePeriod && !isAM && !is12) {\n        timePart += 12;\n      }\n\n      time.setHours(timePart);\n    } else {\n      time.setMinutes(timePart);\n    }\n\n    setTempTime(time);\n  };\n\n  _handleTimeChosen = () => {\n    const { hoverMode, setTimeMode, onOkClick, timeMode } = this.props;\n\n    if (hoverMode) {\n      if (timeMode === 'hour') {\n        setTimeMode('minute');\n      } else {\n        onOkClick();\n      }\n    }\n  };\n\n  render() {\n    const {\n      okLabel,\n      okPrimary,\n      onOkClick,\n      cancelLabel,\n      cancelPrimary,\n      onCancelClick,\n      style,\n      className,\n      setTimeMode,\n      setTempTime,\n      timeMode,\n      tempTime,\n      hours,\n      minutes,\n      timePeriod,\n      displayMode,\n      inline,\n      icon,\n      hoverMode,\n    } = this.props;\n\n    const hoursInt = parseInt(hours, 10);\n    const minutesInt = parseInt(minutes.replace(/[^0-9]/g, ''), 10);\n    const actions = [{\n      key: 'cancel',\n      onClick: onCancelClick,\n      primary: cancelPrimary,\n      secondary: !cancelPrimary,\n      label: cancelLabel,\n    }, {\n      key: 'ok',\n      onClick: onOkClick,\n      primary: okPrimary,\n      secondary: !okPrimary,\n      label: okLabel,\n    }];\n\n    return (\n      <div\n        style={style}\n        className={cn('md-picker md-picker--time', {\n          [`md-picker--${displayMode}`]: displayMode,\n          'md-picker--inline': inline,\n          'md-picker--inline-icon': inline && icon,\n        }, className)}\n      >\n        <TimePickerHeader\n          tempTime={tempTime}\n          timeMode={timeMode}\n          setTimeMode={setTimeMode}\n          setTempTime={setTempTime}\n          hours={hours}\n          minutes={minutes}\n          timePeriod={timePeriod}\n        />\n        <div className=\"md-picker-content-container\">\n          <div className=\"md-picker-content md-picker-content--clock\">\n            <ClockFace\n              time={timeMode === 'hour' ? hoursInt : minutesInt}\n              minutes={timeMode === 'minute'}\n              onChange={this._updateTime}\n              timePeriod={timePeriod}\n              hoverMode={hoverMode}\n              onTimeChosen={this._handleTimeChosen}\n            />\n          </div>\n          <DialogFooter actions={actions} />\n        </div>\n      </div>\n    );\n  }\n}\n"]}