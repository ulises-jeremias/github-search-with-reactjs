{"version":3,"sources":["../../src/js/Snackbars/Snackbar.js"],"names":["Snackbar","_handleClick","e","props","onDismiss","action","toast","leaveTimeout","multiline","onClick","_fab","_animateForSnackbar","_clearTimeout","_timeout","clearTimeout","_handleAutohide","autohide","autohideTimeout","window","addEventListener","_handleWindowBlur","_eventType","setTimeout","removeEventListener","state","_handleWindowFocus","fab","onAppear","getComposedComponent","className","propId","id","text","Component","btnProps","flat","children","secondary","Object","assign","role","propTypes","oneOfType","number","string","style","object","node","func","isRequired","shape","label","bool"],"mappings":"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","file":"Snackbar.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport Button from '../Buttons/Button';\nimport isInvalidAnimate from './isInvalidAnimate';\n\nexport default class Snackbar extends PureComponent {\n  static propTypes = {\n    id: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n    style: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    onDismiss: PropTypes.func.isRequired,\n    toast: PropTypes.shape({\n      text: PropTypes.node.isRequired,\n      action: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.shape({\n          label: PropTypes.node,\n          children: PropTypes.node,\n          onClick: PropTypes.func,\n        }),\n      ]),\n      onAppear: PropTypes.func,\n    }).isRequired,\n    multiline: PropTypes.bool,\n    autohide: PropTypes.bool,\n    autohideTimeout: PropTypes.number,\n    fab: PropTypes.object,\n    leaveTimeout: PropTypes.number.isRequired,\n  };\n\n  componentWillMount() {\n    const { fab, multiline, toast: { onAppear } } = this.props;\n    if (onAppear) {\n      onAppear();\n    }\n\n    if (!fab || isInvalidAnimate(fab)) {\n      return;\n    }\n\n    this._fab = fab.getComposedComponent().getComposedComponent();\n    this._fab._animateForSnackbar(multiline);\n  }\n\n  componentDidMount() {\n    this._handleAutohide();\n  }\n\n  componentWillUnmount() {\n    this._clearTimeout();\n\n    if (this._eventType === 'focus') {\n      window.removeEventListener('focus', this._handleWindowFocus);\n    } else if (this._eventType === 'blur') {\n      window.removeEventListener('blur', this._handleWindowBlur);\n    }\n  }\n\n  _handleClick = (e) => {\n    const { onDismiss, toast: { action }, leaveTimeout, multiline } = this.props;\n    if (typeof action.onClick === 'function') {\n      action.onClick(e);\n    }\n\n    if (this._fab) {\n      this._fab._animateForSnackbar(multiline, leaveTimeout);\n    }\n\n    onDismiss();\n  };\n\n  _clearTimeout = () => {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n      this._timeout = null;\n    }\n  };\n\n  _handleAutohide = () => {\n    const { autohide, autohideTimeout, onDismiss, multiline, leaveTimeout } = this.props;\n    if (!autohide) {\n      return;\n    }\n\n    window.addEventListener('blur', this._handleWindowBlur);\n    this._eventType = 'blur';\n    this._timeout = setTimeout(() => {\n      this._timeout = null;\n      this._eventType = null;\n\n      window.removeEventListener('blur', this._handleWindowBlur);\n\n      if (this._fab) {\n        this._fab._animateForSnackbar(multiline, leaveTimeout);\n      }\n\n      onDismiss();\n    }, autohideTimeout || this.state.toast);\n  };\n\n  _handleWindowBlur = () => {\n    this._clearTimeout();\n    window.removeEventListener('blur', this._handleWindowBlur);\n    window.addEventListener('focus', this._handleWindowFocus);\n    this._eventType = 'focus';\n  };\n\n  _handleWindowFocus = () => {\n    window.removeEventListener('focus', this._handleWindowFocus);\n    this._eventType = null;\n    this._handleAutohide();\n  };\n\n  render() {\n    const {\n      className,\n      toast,\n      multiline,\n      /* eslint-disable no-unused-vars */\n      id: propId,\n      fab,\n      autohide,\n      autohideTimeout,\n      leaveTimeout,\n      onDismiss,\n      /* eslint-enable no-unused-vars */\n      ...props\n    } = this.props;\n    let { text, action } = toast;\n    let { id } = this.props;\n\n    let Component = 'p';\n    if (action) {\n      Component = 'section';\n      text = <p className=\"md-snackbar--toast md-snackbar--action\">{text}</p>;\n\n      let btnProps = {\n        flat: true,\n        onClick: this._handleClick,\n        children: action,\n        secondary: true,\n        className: 'md-btn--snackbar',\n      };\n\n      if (typeof action !== 'string') {\n        btnProps = Object.assign(btnProps, action, {\n          className: cn(btnProps.className, action.className),\n          onClick: this._handleClick,\n        });\n      }\n\n\n      action = <Button {...btnProps} />;\n    }\n\n    if (!id) {\n      id = `snackbar-alert${action ? '-dialog' : ''}`;\n    }\n\n    const role = `alert${action ? 'dialog' : ''}`;\n    return (\n      <Component\n        {...props}\n        id={id}\n        role={role}\n        className={cn('md-snackbar', {\n          'md-snackbar--multiline': multiline,\n          'md-snackbar--toast': !action,\n        }, className)}\n      >\n        {text}\n        {action}\n      </Component>\n    );\n  }\n}\n"]}