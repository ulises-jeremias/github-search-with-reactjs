{"version":3,"sources":["../../src/js/TextFields/PasswordButton.js"],"names":["PasswordButton","state","keyboardFocus","_handleOutsideClick","e","_button","contains","target","window","removeEventListener","setState","_handleBlur","_handleKeyUp","key","which","keyCode","props","active","passwordVisible","block","floating","icon","disabled","hint","propTypes","bool","element"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAOqBA,c;;;;;;;;;;;;;;wMASnBC,K,GAAQ,EAAEC,eAAe,KAAjB,E,QAERC,mB,GAAsB,UAACC,CAAD,EAAO;AAC3B,YAAI,MAAKC,OAAL,IAAgB,CAAC,MAAKA,OAAL,CAAaC,QAAb,CAAsBF,EAAEG,MAAxB,CAArB,EAAsD;AACpDC,iBAAOC,mBAAP,CAA2B,OAA3B,EAAoC,MAAKN,mBAAzC;AACA,gBAAKO,QAAL,CAAc,EAAER,eAAe,KAAjB,EAAd;AACD;AACF,O,QAEDS,W,GAAc,YAAM;AAClB,YAAI,MAAKV,KAAL,CAAWC,aAAf,EAA8B;AAC5B,gBAAKQ,QAAL,CAAc,EAAER,eAAe,KAAjB,EAAd;AACD;AACF,O,QAEDU,Y,GAAe,UAACR,CAAD,EAAO;AACpB,YAAMS,MAAMT,EAAEU,KAAF,IAAWV,EAAEW,OAAzB;AACA,YAAIF,qBAAJ,EAAiB;AACf,gBAAKH,QAAL,CAAc,EAAER,eAAe,IAAjB,EAAd;AACD;AACF,O;;;;;+BAEQ;AAAA,YACCA,aADD,GACmB,KAAKD,KADxB,CACCC,aADD;;AAAA,qBASH,KAAKc,KATF;AAAA,YAGLC,MAHK,UAGLA,MAHK;AAAA,YAILC,eAJK,UAILA,eAJK;AAAA,YAKLC,KALK,UAKLA,KALK;AAAA,YAMLC,QANK,UAMLA,QANK;AAAA,YAOLC,IAPK,UAOLA,IAPK;AAAA,YAQFL,KARE;;AAWP,eACE;AAAA;AAAA,uBACMA,KADN;AAEE,oBAAQ,KAAKL,WAFf;AAGE,qBAAS,KAAKC,YAHhB;AAIE,kBAAK,QAJP;AAKE,uBAAW,0BAAG,kEAAH,EAAuE;AAChF,wCAA0BV,aADsD;AAEhF,4CAA8Be,UAAU,CAACC,eAFuC;AAGhF,0DAA4CE,QAHoC;AAIhF,uDAAyCD;AAJuC,aAAvE,EAKR,2BAAY,EAAEG,UAAU,CAACL,MAAb,EAAqBM,MAAMN,MAA3B,EAAZ,CALQ;AALb;AAYGI;AAZH,SADF;AAgBD;;;;;;AA1DkBrB,gB,CACZwB,S,GAAY;AACjBP,YAAQ,oBAAUQ,IADD;AAEjBP,qBAAiB,oBAAUO,IAFV;AAGjBJ,UAAM,oBAAUK,OAHC;AAIjBP,WAAO,oBAAUM,IAJA;AAKjBL,cAAU,oBAAUK;AALH,G;oBADAzB,c","file":"PasswordButton.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport { TAB } from '../constants/keyCodes';\nimport themeColors from '../utils/themeColors';\n\nexport default class PasswordButton extends PureComponent {\n  static propTypes = {\n    active: PropTypes.bool,\n    passwordVisible: PropTypes.bool,\n    icon: PropTypes.element,\n    block: PropTypes.bool,\n    floating: PropTypes.bool,\n  };\n\n  state = { keyboardFocus: false };\n\n  _handleOutsideClick = (e) => {\n    if (this._button && !this._button.contains(e.target)) {\n      window.removeEventListener('click', this._handleOutsideClick);\n      this.setState({ keyboardFocus: false });\n    }\n  };\n\n  _handleBlur = () => {\n    if (this.state.keyboardFocus) {\n      this.setState({ keyboardFocus: false });\n    }\n  };\n\n  _handleKeyUp = (e) => {\n    const key = e.which || e.keyCode;\n    if (key === TAB) {\n      this.setState({ keyboardFocus: true });\n    }\n  };\n\n  render() {\n    const { keyboardFocus } = this.state;\n    const {\n      active,\n      passwordVisible,\n      block,\n      floating,\n      icon,\n      ...props\n    } = this.props;\n\n    return (\n      <button\n        {...props}\n        onBlur={this._handleBlur}\n        onKeyUp={this._handleKeyUp}\n        type=\"button\"\n        className={cn('md-text-field-inline-indicator md-password-btn md-pointer--hover', {\n          'md-password-btn--focus': keyboardFocus,\n          'md-password-btn--invisible': active && !passwordVisible,\n          'md-text-field-inline-indicator--floating': floating,\n          'md-text-field-inline-indicator--block': block,\n        }, themeColors({ disabled: !active, hint: active }))}\n      >\n        {icon}\n      </button>\n    );\n  }\n}\n"]}